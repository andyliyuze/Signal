<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <link type="text/css" rel="stylesheet" href="Css/ChatStyle.css" />
    <link rel="stylesheet" href="/Css/JQueryUI/themes/base/jquery.ui.all.css">


    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="/Scripts/jquery-1.8.2.min.js"></script>

    <script src="/Scripts/ui/jquery.ui.core.js"></script>
    <script src="/Scripts/ui/jquery.ui.widget.js"></script>
    <script src="/Scripts/ui/jquery.ui.mouse.js"></script>
    <script src="/Scripts/ui/jquery.ui.draggable.js"></script>
    <script src="/Scripts/ui/jquery.ui.resizable.js"></script>



    <!--Reference the SignalR library. -->


    <script src="Scripts/jquery.signalR-2.2.0.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="/signalr/hubs"></script>

</head>
<body>
    <div id="divContainer">
        <div id="header">
            SignalR Chat Room
        </div>
        <br />
        <br />
        <br />
        <div id="divLogin" class="login">
            <div>
                用户名:<br />
                <input id="txtNickName" type="text" class="textBox" />
            </div>
            <div>
                密码:<br />
                <input id="pwd" type="text" class="textBox" />
            </div>
            <div id="divButton">
                <input id="btnStartChat" type="button" class="submitButton" value="登录" />
            </div>
        </div>

    

       
    </div>
    <script type="text/javascript">
        $("#btnStartChat").click( function () {


        //开启一下服务
        //   setScreen(false);

        // Declare a proxy to reference the hub.
        var chatHub = $.connection.chatHub;

        ////registerClientMethods(chatHub);

        // Start Hub
        $.connection.hub.start().done(function () {

           // registerEvents(chatHub)

        });


        //实现登录
        var name = $("#txtNickName").val();
        var pwd = $("#pwd").val().trim();
        if (name.length > 0 && pwd.length > 0) {
            chatHub.server.connect(name, pwd);
        }
        else {
            alert("用户名或密码不能为空");
        }

    });

    </script>

</body>
</html>
